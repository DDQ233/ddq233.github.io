<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.68.3" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>Git 学习笔记&nbsp;&ndash;&nbsp;DDQ的笔记</title><link rel="stylesheet" href="/css/core.min.9d9a71a2aa7bfa7cd0fa3d29cca2abd80ea10e5d886dd01abe9e6b2c1a16fb345670afedd884e7805ad44ccb9c2cc877.css" integrity="sha384-nZpxoqp7&#43;nzQ&#43;j0pzKKr2A6hDl2IbdAavp5rLBoW&#43;zRWcK/t2ITngFrUTMucLMh3"><body>
    <div class="base-body"><section id="header" class="site header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><span class="site name">DDQ的笔记</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/categories/">Categories</a><a class="nav item" href="/tags/">Tags</a><a class="nav item" href="/about">About</a></nav></div></span></div><div class="site slogan"><span class="title">DDQ Note Library</span></div></section><div id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">Git 学习笔记</h1><p class="article date">Date : 2020-04-07</p></section><article class="article markdown-body"><h1 id="目录">目录</h1>
<ul>
<li>一、Git 的优势</li>
<li>二、Git 的结构</li>
<li>三、Git 和代码托管中心
<ul>
<li>3.1 局域网环境下</li>
<li>3.2 外网环境下</li>
</ul>
</li>
<li>四、本地库和远程库
<ul>
<li>4.1 本地库初始化</li>
<li>4.2 设置签名</li>
</ul>
</li>
<li>五、基本操作
<ul>
<li>5.1 状态查看操作</li>
<li>5.2 添加操作</li>
<li>5.3 提交操作</li>
<li>5.4 查看历史纪录</li>
<li>5.5 前进后退版本</li>
<li>5.6 reset 命令的三个参数对比</li>
<li>5.7 删除文件后找回</li>
<li>5.8 比较文件差异</li>
</ul>
</li>
<li>六、分支管理
<ul>
<li>6.1 分支的意义</li>
<li>6.2 分支的好处</li>
<li>6.3 分支操作</li>
</ul>
</li>
<li>七、Git 的原理
<ul>
<li>7.1 Hash 算法介绍</li>
</ul>
</li>
<li>八、远程库操作
<ul>
<li>8.1 查看远程库</li>
<li>8.2 推送操作</li>
<li>8.3 克隆</li>
<li>8.4 拉取</li>
<li>8.5 解决冲突</li>
<li>8.6 跨团队协作</li>
</ul>
</li>
<li>九、SSH 登录</li>
<li>十、Eclipce 操作
<ul>
<li>10.1 工程初始化为本地库</li>
<li>10.2 Eclipse 中忽略文件
<ul>
<li>10.2.1 概念：Eclipse 特定文件</li>
<li>10.2.2 为什么要忽略 Eclipse 特定文件呢？</li>
<li>10.2.3 GitHub 官网样例文件</li>
<li>10.2.4 引入上述文件</li>
</ul>
</li>
<li>10.3 推送到远程库</li>
</ul>
</li>
<li>十一、Gitlab 服务器搭建过程
<ul>
<li>11.1 官网地址</li>
<li>11.2 安装命令摘录</li>
<li>11.3 调整后的安装过程</li>
<li>11.4 gitlab 服务操作
<ul>
<li>11.4.1 初始化配置 gitlab</li>
<li>11.4.2 启动 gitlab 服务</li>
<li>11.4.3 停止 gitlab 服务</li>
</ul>
</li>
<li>11.5 浏览器访问</li>
<li>11.6 其他安装 Gitlab 的教程</li>
</ul>
</li>
</ul>
<br>
<h1 id="一git-的优势">一、Git 的优势</h1>
<ul>
<li>大部分操作在本地完成，不需要联网</li>
<li>完整性保证</li>
<li>尽可能添加数据而不是删除或修改数据</li>
<li>分支操作非常快捷流畅</li>
<li>与 Linux 命令全面兼容</li>
</ul>
<br>
<hr>
<h1 id="二git-的结构">二、Git 的结构</h1>
<ul>
<li>工作区（写代码）</li>
<li>暂存区（临时存储）</li>
<li>本地库（历史版本）</li>
</ul>
<br>
<hr>
<h1 id="三git-和代码托管中心">三、Git 和代码托管中心</h1>
<p>代码托管中心的任务：维护远程库</p>
<h2 id="31-局域网环境下">3.1 局域网环境下</h2>
<ul>
<li>GitLab 服务器</li>
</ul>
<h2 id="32-外网环境下">3.2 外网环境下</h2>
<ul>
<li>GitHub</li>
<li>码云</li>
</ul>
<br>
<hr>
<h1 id="四本地库和远程库">四、本地库和远程库</h1>
<ul>
<li>团队内部协作</li>
<li>跨团队协作</li>
</ul>
<h2 id="41-本地库初始化">4.1 本地库初始化</h2>
<blockquote>
<p>$ git init</p>
</blockquote>
<p>注意：.git 目录中存放的是本地库相关的子目录和文件，不要删除，也不要胡乱修改。</p>
<h2 id="42-设置签名">4.2 设置签名</h2>
<ul>
<li>形式
<ul>
<li>用户名：XXX</li>
<li>Email 地址：XXX@XXX.com</li>
</ul>
</li>
<li>作用：区分不同开发人员的身份</li>
<li>辨析：签名和登录远程库（代码托管中心）的账号、密码没有任何关系</li>
<li>命令
<ul>
<li>项目级别 / 仓库级别
<ul>
<li>作用范围：仅在当前本地库范围内有效</li>
<li>命令：git <strong>config</strong> user.name XXX_pro</li>
<li>命令：git <strong>config</strong> user.email <a href="mailto:XXX_pro@XXX.com">XXX_pro@XXX.com</a></li>
<li>信息保存位置：./git/config 文件</li>
</ul>
</li>
<li>系统用户级别
<ul>
<li>作用范围：登录当前操作系统的用户范围</li>
<li>命令：git <strong>config &ndash;global</strong> user.name XXX_glb</li>
<li>命令：git <strong>config &ndash;global</strong> user.email <a href="mailto:XXX_glb@XXX.com">XXX_glb@XXX.com</a></li>
<li>信息保存位置：~/.gitconfig 文件</li>
</ul>
</li>
<li>级别优先级
<ul>
<li>就近原则：项目级别优先于系统用户级别，二者都有时采用项目级别的签名</li>
<li>如果只有系统用户级别的签名，就以系统用户级别的签名为准</li>
<li>二者都没有不允许</li>
</ul>
</li>
</ul>
</li>
</ul>
<br>
<hr>
<h1 id="五基本操作">五、基本操作</h1>
<h2 id="51-状态查看操作">5.1 状态查看操作</h2>
<blockquote>
<p>$ git status</p>
</blockquote>
<p>作用：查看工作区、暂存区状态</p>
<h2 id="52-添加操作">5.2 添加操作</h2>
<blockquote>
<p>$ git add [file name]</p>
</blockquote>
<p>作用：将工作区的“新建/修改”添加到暂存区</p>
<h2 id="53-提交操作">5.3 提交操作</h2>
<blockquote>
<p>$ git commit [file name] -m &ldquo;commit message&rdquo;</p>
</blockquote>
<p>作用：将暂存区的内容提交到本地库</p>
<h2 id="54-查看历史纪录">5.4 查看历史纪录</h2>
<blockquote>
<p>$ git log / git log &ndash;pretty=oneline / git log &ndash;oneline / git reflog</p>
</blockquote>
<p>作用：查看历史纪录</p>
<p>多屏显示控制方式：</p>
<ul>
<li>空格向下翻页</li>
<li>b 向上翻页</li>
<li>q 退出</li>
</ul>
<h2 id="55-前进后退版本">5.5 前进后退版本</h2>
<ul>
<li>基于索引值操作</li>
</ul>
<blockquote>
<p>$ git reset &ndash;hard [局部索引值]</p>
</blockquote>
<ul>
<li>使用 ^ 符号：只能后退</li>
</ul>
<blockquote>
<p>$ git reset &ndash;hard HEAD^
<br> 注：一个 ^ 表示后退一步，n 个表示后退 n 步</p>
</blockquote>
<ul>
<li>使用 ~ 符号：只能后退</li>
</ul>
<blockquote>
<p>$ git reset &ndash;hard HEAD~n
<br> - 注：表示后退 n 步</p>
</blockquote>
<h2 id="56-reset-命令的三个参数对比">5.6 reset 命令的三个参数对比</h2>
<ul>
<li>&ndash;soft 参数
<ul>
<li>仅仅在本地库移动 HEAD 指针</li>
</ul>
</li>
<li>&ndash;mixed 参数
<ul>
<li>在本地库移动 HEAD 指针</li>
<li>重置暂存区</li>
</ul>
</li>
<li>&ndash;hard 参数
<ul>
<li>在本地库移动 HEAD 指针</li>
<li>重置暂存区</li>
<li>重置工作区</li>
</ul>
</li>
</ul>
<h2 id="57-删除文件后找回">5.7 删除文件后找回</h2>
<p>前提：删除前，文件存在时的状态提交到了本地库
命令：git reset &ndash;hard [指针位置]</p>
<ul>
<li>删除操作已经提交到本地库：指针位置指向历史记录</li>
<li>删除操作尚未提交到本地库：指针位置使用 HEAD</li>
</ul>
<h2 id="58-比较文件差异">5.8 比较文件差异</h2>
<ul>
<li>
<p>将工作区中的文件和暂存区进行比较
命令：git diff [文件名]</p>
</li>
<li>
<p>将工作区中的文件和本地库历史记录比较
命令：git diff [本地库中历史版本] [文件名]</p>
</li>
<li>
<p>不带文件名比较多个文件</p>
</li>
</ul>
<br>
<hr>
<h1 id="六分支管理">六、分支管理</h1>
<h2 id="61-分支的意义">6.1 分支的意义</h2>
<p>在版本控制过程中，使用多条线同时推进多个任务。</p>
<h2 id="62-分支的好处">6.2 分支的好处</h2>
<ul>
<li>同时并行推进多个功能开发，提高开发效率</li>
<li>各个分支在开发过程中，如果某一个分支开发失败，不会对其他分支有任何影响。失败的分支删除重新开始即可</li>
</ul>
<h2 id="63-分支操作">6.3 分支操作</h2>
<ul>
<li>创建分区</li>
</ul>
<blockquote>
<p>$ git branch [分支名]</p>
</blockquote>
<ul>
<li>查看分支</li>
</ul>
<blockquote>
<p>$ git branch -v</p>
</blockquote>
<ul>
<li>切换分支</li>
</ul>
<blockquote>
<p>$ git checkout [分支名]</p>
</blockquote>
<ul>
<li>合并分支</li>
</ul>
<ol>
<li>第一步：切换到接受修改的分支（被合并，增加新内容）上</li>
</ol>
<blockquote>
<p>$ git checkout [被合并分支名]</p>
</blockquote>
<ol start="2">
<li>第二步：执行 merge 命令</li>
</ol>
<blockquote>
<p>$ git merge [有新内容分支名]</p>
</blockquote>
<ul>
<li>
<p>解决冲突</p>
</li>
<li>
<p>第一步：编辑文件，删除特殊符号</p>
</li>
<li>
<p>第二步：把文件修改到满意的程度，保存退出</p>
</li>
<li>
<p>第三步：$ git add [文件名]</p>
</li>
<li>
<p>第四步：$ git commit -m &ldquo;日志信息&rdquo;</p>
</li>
<li>
<p>注意：此时 commit 一定不能带具体文件名</p>
</li>
</ul>
<br>
<hr>
<h1 id="七git-的原理">七、Git 的原理</h1>
<h2 id="71-hash-算法介绍">7.1 Hash 算法介绍</h2>
<p>哈希是一个系列的加密算法，各个不同的哈希算法虽然加密强度不同，但是有以下几个共同点：</p>
<ol>
<li>不管输入数据的数据量有多大，输入同一个哈希算法，得到的加密结果长度固定。</li>
<li>哈希算法确定，输入数据确定，输出数据能够保证不变</li>
<li>哈希算法确定，输入数据有变化，输出数据一定有变化，而且通常变化很大</li>
<li>哈希算法不可逆</li>
</ol>
<br>
<hr>
<h1 id="八远程库操作">八、远程库操作</h1>
<h2 id="81-查看远程库">8.1 查看远程库</h2>
<blockquote>
<p>$ git remote -v 查看所有远程地址别名
<br>
$ git remote add [别名] [远程地址]</p>
</blockquote>
<h2 id="82-推送操作">8.2 推送操作</h2>
<blockquote>
<p>$ git push [别名] [分支名]</p>
</blockquote>
<h2 id="83-克隆">8.3 克隆</h2>
<blockquote>
<p>$ git clone [远程地址]</p>
</blockquote>
<p>效果：</p>
<ul>
<li>完整的把远程库下载到本地</li>
<li>创建 origin 远程地址别名</li>
<li>初始化本地库</li>
</ul>
<h2 id="84-拉取">8.4 拉取</h2>
<p>pull = fetch + merge</p>
<blockquote>
<p>$ git fetch [远程库地址别名] [远程分支名]</p>
</blockquote>
<blockquote>
<p>$ git merge [远程库地址别名 / 远程分支名]</p>
</blockquote>
<h2 id="85-解决冲突">8.5 解决冲突</h2>
<p>要点：</p>
<ul>
<li>如果不是基于 GitHub 远程库的最新版所做的修改，不能推送，必须先拉取</li>
<li>拉取下来后如果进入冲突状态，则按照“分支冲突解决”即可</li>
</ul>
<h2 id="86-跨团队协作">8.6 跨团队协作</h2>
<ol>
<li>Fork</li>
<li>本地修改，然后推送远程</li>
<li>Pull Request</li>
<li>New Pull Request</li>
<li>Create Pull Request</li>
<li>查看 Pull Request</li>
<li>查看 File Change</li>
<li>Merge pull requset</li>
<li>填入本次操作的日志信息</li>
<li>Confirm merge</li>
<li>将远程库拉取到本地</li>
</ol>
<br>
<hr>
<h1 id="九ssh-登录">九、SSH 登录</h1>
<ol>
<li>进入当前用户的家目录</li>
</ol>
<blockquote>
<p>$ cd ~</p>
</blockquote>
<ol start="2">
<li>删除 .ssh 目录</li>
</ol>
<blockquote>
<p>$ rm -rvf .ssh/</p>
</blockquote>
<ol start="3">
<li>运行命令生成 .ssh 密钥目录</li>
</ol>
<blockquote>
<p>$ ssh-keygen -t rsa -C <a href="mailto:2841730354@qq.com">2841730354@qq.com</a></p>
</blockquote>
<ol start="4">
<li>进入 .ssh 目录查看文件列表</li>
</ol>
<blockquote>
<p>$ cd .ssh/
<br>
ls-LF</p>
</blockquote>
<ol start="5">
<li>查看 id_rsa.pub 文件内容</li>
</ol>
<blockquote>
<p>$ cat id_rsa.pub</p>
</blockquote>
<ol start="6">
<li>
<p>复制 id_rsa.pub 文件内容，登录 GitHub，点击用户头像 &ndash;&gt; Settings &ndash;&gt; SSH and GPG keys</p>
</li>
<li>
<p>New SSH Key</p>
</li>
<li>
<p>输入复制的密钥信息</p>
</li>
<li>
<p>回到 Git bash 创建远程地址别名</p>
</li>
</ol>
<blockquote>
<p>$ git remote add Learning-Notes_ssh <a href="mailto:git@github.com">git@github.com</a>:DDQ233/Learning-Notes.git</p>
</blockquote>
<ol start="10">
<li>推送文件进行测试</li>
</ol>
<br>
<hr>
<h1 id="十eclipce-操作">十、Eclipce 操作</h1>
<h2 id="101-工程初始化为本地库">10.1 工程初始化为本地库</h2>
<ol>
<li>工程 &ndash;&gt; 右键 &ndash;&gt; Team &ndash;&gt; Share Project &ndash;&gt; Git</li>
<li>勾选：Use or create repository in parent folder of project</li>
<li>勾选工程</li>
<li>点击 Create Repository</li>
<li>Finish</li>
</ol>
<h2 id="102-eclipse-中忽略文件">10.2 Eclipse 中忽略文件</h2>
<h3 id="1021-概念eclipse-特定文件">10.2.1 概念：Eclipse 特定文件</h3>
<p>这些都是 Eclipse 为了管理我们创建的工程为维护的文件，和开发的代码没有直接关系。最好不要 Git 中进行追踪，也就是把它们忽略</p>
<ul>
<li>.classpath 文件</li>
<li>.project 文件</li>
<li>.settings 目录下所有文件</li>
</ul>
<h3 id="1022-为什么要忽略-eclipse-特定文件呢">10.2.2 为什么要忽略 Eclipse 特定文件呢？</h3>
<p>同一个团队中很难保证大家使用相同的 IDE 工具，而 IDE 工具不同时，相关工程特定文件就有可能不同。如果这些文件也加入版本控制，那么开发时很可能需要为这些文件解决冲突。</p>
<h3 id="1023-github-官网样例文件">10.2.3 GitHub 官网样例文件</h3>
<ul>
<li><a href="https://github.com/github/gitignore">https://github.com/github/gitignore</a></li>
<li><a href="https://github.com/github/gitignore/blob/master/Java.gitignore">https://github.com/github/gitignore/blob/master/Java.gitignore</a></li>
</ul>
<h3 id="1024-引入上述文件">10.2.4 引入上述文件</h3>
<p>在 ~/.gitconfig 文件中引入：</p>
<blockquote>
<p>[core]
<br>
    excludefile = C:/Users/73184/Java.gitignore</p>
</blockquote>
<p><strong>注意：这里路径中一定要使用“/”，不能使用“\”</strong></p>
<h2 id="103-推送到远程库">10.3 推送到远程库</h2>
<br>
<hr>
<h1 id="十一gitlab-服务器搭建过程">十一、Gitlab 服务器搭建过程</h1>
<h2 id="111-官网地址">11.1 官网地址</h2>
<p><a href="https://about.gitlab.com/"target="_blank">首页：https://about.gitlab.com/</a></p>
<p><a href="https://about.gitlab.com/installation/"target="_blank">安装说明：https://about.gitlab.com/installation/</a></p>
<h2 id="112-安装命令摘录">11.2 安装命令摘录</h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">sudo yum install -y curl policycoreutils-python openssh-server cronie
sudo lokkit -s http -s ssh
sudo yum install postfix
sudo service postfix start
sudo chkconfig postfix on
curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh <span class="p">|</span> sudo bash
sudo <span class="nv">EXTERNAL_URL</span><span class="o">=</span><span class="s2">&#34;http://gitlab.example.com&#34;</span>yum -y install gitlab-ee
</code></pre></div><p>实际问题：yum 安装 gitlab-ee(或ce) 时，需要联网下载几百兆的安装文件，非常耗时，所以应提前把所需 RPM 包下载并安装好。</p>
<p><a href="https://package.gitlab.com/gitlab/gitlab-ce/packages/el/7/gitlab-ce-10.8.2-ce.0.el7.x86_64.rpm"target="_blank">下载地址：https://package.gitlab.com/gitlab/gitlab-ce/packages/el/7/gitlab-ce-10.8.2-ce.0.el7.x86_64.rpm</a></p>
<h2 id="113-调整后的安装过程">11.3 调整后的安装过程</h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">sudo rpm -ivh /opt/gitlab-ce-10.8.2-ce.0.el7.x86_64.rpm
sudo yum install -y curl policycoreutils-python openssh-server cronie
sudo lokkit -s http -s ssh
sudo yum install postfix
sudo service postfix start
sudo chkconfig postfix on
curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh <span class="p">|</span> sudo bash
sudo <span class="nv">EXTERNAL_URL</span><span class="o">=</span><span class="s2">&#34;http://gitlab.example.com&#34;</span>yum -y install gitlab-ce
</code></pre></div><p>当步骤完成后重启</p>
<h2 id="114-gitlab-服务操作">11.4 gitlab 服务操作</h2>
<h3 id="1141-初始化配置-gitlab">11.4.1 初始化配置 gitlab</h3>
<blockquote>
<p>gitlab-ctl reconfigure</p>
</blockquote>
<h3 id="1142-启动-gitlab-服务">11.4.2 启动 gitlab 服务</h3>
<blockquote>
<p>gitlab-ctl start</p>
</blockquote>
<h3 id="1143-停止-gitlab-服务">11.4.3 停止 gitlab 服务</h3>
<blockquote>
<p>gitlab-ctl stop</p>
</blockquote>
<h2 id="115-浏览器访问">11.5 浏览器访问</h2>
<p>访问 Linux 服务器 IP 地址即可，如果想访问 EXTERNAL_URL 指定的域名还需要配置域名服务器或本地 hosts 文件。</p>
<p>初次登陆需要为 gitlab 的 root 用户设计密码。</p>
<p>应该会需要停止防火墙服务。</p>
<blockquote>
<p>service firewalld stop</p>
</blockquote>
<h2 id="116-其他安装-gitlab-的教程">11.6 其他安装 Gitlab 的教程</h2>
<ul>
<li>
<p><a href="https://www.cnblogs.com/weifeng1463/p/7714492.html"target="_blank">GitLab 的安装及使用教程 - 博客园</a></p>
</li>
<li>
<p><a href="https://www.jianshu.com/p/b04356e014fa"target="_blank">手把手教你 GitLab 的安装及使用 - 简书</a></p>
</li>
</ul>
</article><section class="article labels"><a class="category" href=/categories/versioncontrol/>VersionControl</a><a class="tag" href=/tags/git/>Git</a></section></div><section class="article navigation"><p><a class="link" href="/notes/nextcloud_in_centos7/"><span class="li">&larr;</span>CentOS 7 搭建 Nextcloud</a></p><p><a class="link" href="/notes/mac_note_direction/"><span class="li">&rarr;</span>Mac便签说明</a></p></section></div><section id="footer" class="footer"><div class="footer-wrap">
    <p class="copyright">© 2020 DDQ.</p>
    <p class="powerby"><span>Powered by </span><a href="https://gohugo.io" 
        target="_blank">Hugo</a><span> and the </span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank">Notepadium</a></p>
</div></section><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/&#43;DiW/UqRcLbRjq" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l&#43;B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd&#43;qj&#43;o24G5ZU2zJz" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
            onload="renderMathInElement(document.body);"></script><script src="/js/hljs.min.0799348a91dce12c6be4a73f943cfe78f181f4e6f6ec35c4af0fca1de377879f77cfab03c30f03a174d675737b5a9314.js" integrity="sha384-B5k0ipHc4Sxr5Kc/lDz&#43;ePGB9Ob27DXErw/KHeN3h593z6sDww8DoXTWdXN7WpMU"></script><script>hljs.initHighlightingOnLoad();</script></div>
</body>

</html>